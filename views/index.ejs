<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campmajó Studio</title>

    <!-- Preconnect and DNS Prefetch for External Resources -->
    <link rel="preconnect" href="//use.typekit.net">
    <link rel="dns-prefetch" href="//use.typekit.net">
    <link rel="preconnect" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">

    <!-- Preloading Critical Video Poster Image -->
    <link rel="preload" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/pinocchio/pinocchio_03.jpg" type="image/jpeg">

    <!-- Prefetching All Other Images -->
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/ccc2024/capital_cultura_catalana_01.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/pinocchio/pinocchio_00.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/tot_es_fum/tot_es_fum_00.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/sorolla/sorolla_00.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/duoleg/duoleg_00.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/nadal_immersiu/nadal_immersiu_00.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/cant_dels_ocellots/el_cant_dels_ocellots_00.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/pell_de_paper/pell_de_paper_00.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/buen_camino/buen_camino_00.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/siguenza/catedral_siguenza_00.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/cels/cels_00.jpg" type="image/jpeg">
    <link rel="prefetch" as="image" href="https://campmajo-studio.s3.eu-central-1.amazonaws.com/bosc_de_llum/bosc_de_llum_00.jpg" type="image/jpeg">

    <!-- External Fonts and Tailwind CSS -->
    <link href="//use.typekit.net/gig2fob.css" rel="stylesheet">
    <link href="//cdn.jsdelivr.net/npm/tailwindcss@2.0.0/dist/tailwind.min.css" rel="stylesheet">

    <style>
        body {
            font-family: futura-pt, sans-serif;
            font-weight: 400;
            font-style: normal;
        }

        .logo {
            font-weight: 600;
        }

        /* Smooth Slide-in Transition for Mobile Menu */
        #mobile-menu {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            transform: translateX(100%);
        }

        #mobile-menu.visible {
            transform: translateX(0);
            opacity: 1;
        }

        #mobile-menu.hidden {
            opacity: 0;
            visibility: hidden;
        }

        body.overflow-hidden {
            overflow: hidden;
        }

        #menu-toggle.open svg {
            transition: transform 0.3s ease-in-out;
            transform: rotate(90deg);
        }

        .hidden {
            opacity: 0;
            visibility: hidden;
        }

        .visible {
            opacity: 1;
            visibility: visible;
        }

        /* Invert navbar colors when mobile menu is active */
        #navbar.inverted {
            background-color: black;
            color: white;
        }

        #navbar.inverted .logo {
            color: white;
        }

        #navbar.inverted #menu-toggle svg {
            color: white;
        }

    </style>
</head>

<body class="bg-white">

<!-- Navigation -->
<nav id="navbar" class="flex justify-between items-center p-4 bg-white text-black">
    <h1 class="logo text-2xl z-50">Campmajó Studio</h1>
    <button id="menu-toggle" class="text-gray-500 focus:outline-none">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-8 h-8">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
    </button>
</nav>

<!-- Overlay Mobile Menu -->
<div id="mobile-menu" class="fixed inset-0 z-40 bg-black hidden flex flex-col justify-center items-center">
    <section class="p-0 fade-in">
        <video class="w-full h-[30vh] md:h-[40vh] lg:h-[50vh] xl:h-[60vh]" controls autoplay muted playsinline
               preload="auto" loading="lazy"
               poster="https://campmajo-studio.s3.eu-central-1.amazonaws.com/pinocchio/pinocchio_03.jpg">
            <source src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/reel-web.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </section>
    <button id="menu-close" class="absolute top-4 right-4 text-white focus:outline-none">
        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"
             xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"></path>
        </svg>
    </button>
</div>

<!-- Main Section with Responsive Video -->
<section class="p-0 fade-in">
    <video class="w-full h-[30vh] md:h-[40vh] lg:h-[50vh] xl:h-[60vh]" controls autoplay muted playsinline
           preload="auto" loading="lazy"
           poster="https://campmajo-studio.s3.eu-central-1.amazonaws.com/pinocchio/pinocchio_03.jpg">
        <source src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/reel-web.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</section>

<!-- Text Section -->
<section class="text-center p-4 fade-in">
    <div class="m-4">
        <p class="mt-2 text-lg leading-relaxed">
            Llum i narrativa
        </p>

        <h2 class="text-2xl font-semibold leading-tight">
            Som un col·lectiu d'artistes i dissenyadors especialitzats en crear, dirigir i executar espectacles
            audiovisuals, amb una atenció meticulosa al concepte gràfic i la narrativa, aconseguint així força i emoció
            en els nostres projectes.
        </h2>

    </div>
</section>

<!-- Project Images Section -->
<section class="p-0 fade-in">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
        <!-- Image 1 -->
        <picture class="-mb-1">
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/ccc2024/capital_cultura_catalana_01.jpg"
                 alt="Project Image 1" class="w-full h-auto"
                 loading="lazy">
        </picture>

        <!-- Image 2 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/pinocchio/pinocchio_00.jpg"
                 alt="Project Image 2" class="w-full h-auto" loading="lazy">
        </picture>

        <!-- Image 3 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/tot_es_fum/tot_es_fum_00.jpg"
                 alt="Project Image 3" class="w-full h-auto" loading="lazy">
        </picture>

        <!-- Image 4 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/sorolla/sorolla_00.jpg" alt=""
                 class="w-full h-auto" loading="lazy">
        </picture>

        <!-- Image 5 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/duoleg/duoleg_00.jpg" alt=""
                 class="w-full h-auto" loading="lazy">
        </picture>

        <!-- Image 6 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/nadal_immersiu/nadal_immersiu_00.jpg" alt=""
                 class="w-full h-auto"
                 loading="lazy">
        </picture>

        <!-- Image 7 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/cant_dels_ocellots/el_cant_dels_ocellots_00.jpg"
                 alt=""
                 class="w-full h-auto" loading="lazy">
        </picture>

        <!-- Image 8 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/pell_de_paper/pell_de_paper_00.jpg" alt=""
                 class="w-full h-auto"
                 loading="lazy">
        </picture>

        <!-- Image 9 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/buen_camino/buen_camino_00.jpg" alt=""
                 class="w-full h-auto"
                 loading="lazy">
        </picture>

        <!-- Image 10 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/siguenza/catedral_siguenza_00.jpg" alt=""
                 class="w-full h-auto" loading="lazy">
        </picture>

        <!-- Image 11 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/cels/cels_00.jpg" alt=""
                 class="w-full h-auto" loading="lazy">
        </picture>

        <!-- Image 12 -->
        <picture>
            <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/bosc_de_llum/bosc_de_llum_00.jpg" alt=""
                 class="w-full h-auto"
                 loading="lazy">
        </picture>

    </div>
</section>

<!-- Services Section -->
<section class="p-12 fade-in">
    <h1 class="text-3xl font-thin mb-8 text-left">Serveis</h1>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-lg leading-loose">
        <div>
            <p class="font-bold mb-2">Disseny d'experiències</p>
            <ul>
                <li>Disseny videomapping</li>
                <li>Instal·lacions interactives</li>
                <li>Disseny d'entorns i escenografies</li>
                <li>Disseny audiovisual</li>
                <li>Consultoria</li>
                <li>Museografia</li>
                <li>Enginyeria</li>
            </ul>
        </div>
        <div>
            <p class="font-bold mb-2">Disseny i direcció d’art</p>
            <ul>
                <li>Direcció artística</li>
                <li>Animació gràfica</li>
                <li>Il·lustració i disseny gràfic</li>
                <li>Anàlisi i recerca fotogràfica</li>
                <li>Storytelling</li>
                <li>Investigació històrica</li>
                <li>Documentació gràfica</li>
            </ul>
        </div>
        <div>
            <p class="font-bold mb-2">I+D</p>
            <ul>
                <li>Intel-ligència artificial</li>
                <li>Processing</li>
                <li>Open Frameworks</li>
                <li>Art generatiu</li>
                <li>Multimèdia i nous mitjans</li>
                <li>Digitalització 3D</li>
                <li>Tradicional i phygital</li>
            </ul>
        </div>
    </div>
</section>

<!-- Main Image Section -->
<section class="p-0 fade-in">
    <picture>
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/pinocchio/pinocchio_02.jpg" alt="Main visual"
             class="w-full h-auto object-cover"
             loading="lazy">
    </picture>
</section>

<!-- Text Section -->
<section class="text-center p-8 fade-in">
    <div class="mt-4">
        <h2 class="text-2xl font-semibold leading-tight">
            Darrere la sensualitat, rigorositat.
        </h2>
        <p class="mt-2 text-lg leading-relaxed">
            Per explicar una història, la forma és fons i el fons és forma. <br> El nostre procés de treball inclou
            planificació, disseny, implementació, seguiment i millora continua per garantir l’exel.lència en cada
            projecte. </p>
    </div>
</section>

<!-- Grid of Logos Section -->
<section class="my-12 bg-black py-8">
    <div class="logo-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-6 items-center justify-center">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_loteries.png" alt="Loteries de Catalunya"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto"
             loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_fem.png" alt="FEM"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto" loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_sabadell.png" alt="Ajuntament de Sabadell"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto" loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_sanpau.png"
             alt="Hospital de la Santa Creu i Sant Pau"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto" loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_baqueira.png" alt="Baqueira Beret"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto"
             loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_malibu.png" alt="Malibu"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto" loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_fgc.png"
             alt="Ferrocarrils de la Generalitat de Catalunya"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto" loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_jcyl.png" alt="Junta de Castilla y León"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto"
             loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_mas.png" alt="MAS"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto" loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_vanguardia.png" alt="La Vanguardia"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto"
             loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_provital.png" alt="Provital"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto"
             loading="lazy">
        <img src="https://campmajo-studio.s3.eu-central-1.amazonaws.com/logo_coke.png" alt="CocaCola"
             class="max-w-full max-h-24 sm:max-h-32 mx-auto" loading="lazy">

    </div>
</section>

<!-- Footer Section -->
<footer class="p-12 text-left fade-in">
    <div class="grid grid-cols-1 md:grid-cols-1 gap-8 text-lg leading-relaxed">
        <div>
            <p class="mb-24">
                <strong>Campmajó Studio</strong><br>
                Llum i narrativa
                <br>
                +34 607 457 547<br>
                barcelona@campmajo.studio<br>
                08211 Castellar del Vallès<br>
                Barcelona<br>
                © Campmajó Studio 2024
            </p>
        </div>
    </div>
</footer>

<!-- JavaScript for delayed image loading and menu behavior -->
<script defer>
    document.addEventListener('DOMContentLoaded', function () {
        const menuToggle = document.getElementById('menu-toggle');
        const menuClose = document.getElementById('menu-close');
        const mobileMenu = document.getElementById('mobile-menu');
        const body = document.body;
        const navbar = document.getElementById('navbar');

        document.body.addEventListener('click', function (event) {
            if (menuToggle.contains(event.target)) {
                mobileMenu.classList.toggle('hidden');
                mobileMenu.classList.toggle('visible');
                menuToggle.classList.toggle('open');
                navbar.classList.toggle('inverted');
                body.classList.toggle('overflow-hidden');
            } else if (menuClose.contains(event.target) || (!mobileMenu.contains(event.target) && mobileMenu.classList.contains('visible'))) {
                mobileMenu.classList.add('hidden');
                mobileMenu.classList.remove('visible');
                menuToggle.classList.remove('open');
                navbar.classList.remove('inverted');
                body.classList.remove('overflow-hidden');
            }
        });

        const video = document.querySelector('video');
        const images = document.querySelectorAll('img');

        // Function to load images
        const loadImages = () => {
            images.forEach(img => {
                if (img.dataset.src) {
                    img.src = img.dataset.src;
                    img.removeAttribute('data-src');
                }
            });
        };

        // Function to set video volume to 30% and ensure it's unmuted
        const setVideoVolume = () => {
            if (video) {
                try {
                    video.volume = 0.5; // Set volume to 30%
                    video.muted = false; // Ensure it's not muted
                } catch (error) {
                    console.warn("Unable to set video volume due to browser policies: ", error);
                }
            }
        };

        // Function to check autoplay permissions and set volume accordingly
        const checkAutoplayPermission = () => {
            const playPromise = video.play();
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    setVideoVolume();
                }).catch(error => {
                    console.warn("Autoplay with sound might be blocked by the browser. Please interact with the video to enable sound.");
                });
            }
        };

        if (video) {
            video.addEventListener('canplaythrough', loadImages);
            video.addEventListener('loadeddata', setVideoVolume);
            checkAutoplayPermission();

            // Additional handler for user interaction to ensure video plays with sound
            document.body.addEventListener('click', () => {
                if (video.paused) {
                    video.play().then(setVideoVolume).catch(err => {
                        console.warn("Autoplay restriction: Please manually unmute or play the video.", err);
                    });
                }
            });
        }
    });
</script>

</body>
</html>